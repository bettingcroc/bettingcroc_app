(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{188:function(t,e){t.exports="data:image/png;base64,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"},191:function(t,e,n){t.exports=n(511)},199:function(t,e,n){},212:function(t,e){},215:function(t,e){},218:function(t,e){},223:function(t,e){},224:function(t,e){},248:function(t,e){},250:function(t,e){},258:function(t,e){},260:function(t,e){},279:function(t,e){},313:function(t,e){},314:function(t,e){},386:function(t,e){},510:function(t,e,n){},511:function(t,e,n){"use strict";n.r(e);var a,i,s,o=n(14),u=n.n(o),r=n(23),p=n(2),l=n(7),c=n(5),y=n(3),m=n(8),d=n(6),b=n(185),h=n.n(b),f=n(21),T=n(12),v=(n(198),n(199),n(0)),g=n.n(v),B=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={matches:[]},n}return Object(m.a)(e,t),Object(y.a)(e,[{key:"componentDidMount",value:function(){var t=this;a=!0,fetch("http://localhost:4000/api/lastbets",{method:"GET"}).then(function(e){e.json().then(function(e){a&&t.setState({matches:e.matches})})})}},{key:"componentWillUnmount",value:function(){a=!1}},{key:"render",value:function(){return g.a.createElement("div",{className:"listBet"},g.a.createElement("h2",null,"MULTIBET"),this.state.matches.map(function(t){return g.a.createElement("div",{key:t.betNumber},g.a.createElement(f.b,{to:"/bet/numBet?n="+t.betNumber},g.a.createElement("h5",null,t.type+" Bet "+t.betNumber+" : "+t.name)),g.a.createElement("br",null))}))}}]),e}(g.a.Component),w=n(36),O=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={moneyInPool:null,moneyIgot:null,amountToBet:0},n.betOnThisOption=n.betOnThisOption.bind(Object(d.a)(Object(d.a)(n))),n.approveUSDT=n.approveUSDT.bind(Object(d.a)(Object(d.a)(n))),n}return Object(m.a)(e,t),Object(y.a)(e,[{key:"componentDidMount",value:function(){var t=this;console.log("mount OptionPool "+this.props.optionNumber),i=!0;try{this.props.betContract.methods.getOptionMoney(this.props.betNumber,this.props.optionNumber).call().then(function(e){console.log(e);try{i&&t.setState({moneyInPool:e})}catch(n){}})}catch(e){}try{this.props.betContract.methods.howMuchIGotOnAnOption(this.props.betNumber,this.props.optionNumber,this.props.address).call().then(function(n){try{i&&t.setState({moneyIgot:n})}catch(e){}})}catch(e){}}},{key:"componentDidUpdate",value:function(t){var e=this;if(console.log("update OptionPool"),console.log(this.props.address),t!==this.props&&i){try{this.props.betContract.methods.getOptionMoney(this.props.betNumber,this.props.optionNumber).call().then(function(t){console.log(t);try{i&&e.setState({moneyInPool:t})}catch(n){}})}catch(n){}try{this.props.betContract.methods.howMuchIGotOnAnOption(this.props.betNumber,this.props.optionNumber,this.props.address).call().then(function(t){try{i&&e.setState({moneyIgot:t})}catch(n){}})}catch(n){}}}},{key:"componentWillUnmount",value:function(){i=!1,console.log("unmount OptionPool")}},{key:"approveUSDT",value:function(t){this.props.usdtContract.methods.approve("0xd59F3464aFA2b0a1E75C75d417707c985E50Bf8B",C(t)).send({from:this.props.address}).once("receipt",function(t){console.log("approve success")})}},{key:"betOnThisOption",value:function(t){console.log("bet Try"),this.props.betContract.methods.betOn(this.props.betNumber,this.props.optionNumber,C(t)).send({from:this.props.address}).once("receipt",function(t){console.log("bet success")})}},{key:"render",value:function(){var t=this;return g.a.createElement("div",{className:"optionPool"},g.a.createElement("h3",null,this.props.team)," ",g.a.createElement("br",null),g.a.createElement("h4",null,parseFloat(this.state.moneyInPool)/E(10)," USDT in ",this.props.team," Pool !"),g.a.createElement("h4",null,"I got ",parseFloat(this.state.moneyIgot)/E(10)," USDT on this option"),g.a.createElement("input",{className:"css-input",id:"amountToBetOnOptionPool",type:"number",value:this.state.amountToBet,onChange:function(e){return t.setState({amountToBet:e.target.value})}}),g.a.createElement("button",{className:"button",onClick:function(e){t.approveUSDT(t.state.amountToBet)}},"APPROVE USDT"),g.a.createElement("button",{className:"button",onClick:function(e){t.betOnThisOption(t.state.amountToBet)}},"BET"))}}]),e}(g.a.Component);function E(t){return Math.pow(t,18)}function C(t){return BigInt(t*E(10))}var M=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={minBet:0,bestCote:null,bettable:null,amountToBet:0,betNumberP2P:null},n.searchCote=n.searchCote.bind(Object(d.a)(Object(d.a)(n))),n.betOnThisOption=n.betOnThisOption.bind(Object(d.a)(Object(d.a)(n))),n.approveUSDT=n.approveUSDT.bind(Object(d.a)(Object(d.a)(n))),n}return Object(m.a)(e,t),Object(y.a)(e,[{key:"componentDidMount",value:function(){s=!0,this.searchCote(0)}},{key:"componentWillUnmount",value:function(){s=!1}},{key:"searchCote",value:function(t){var e=this;try{this.props.betContract.methods.getMaxCote(this.props.betNumber,this.props.optionNumber,t).call().then(function(t){0!==parseInt(t)?e.props.betContract.methods.seeP2PBet(e.props.betNumber,t).call().then(function(n){s&&(e.setState({bestCote:parseFloat(1+Object.values(n)[2]/Object.values(n)[3]).toFixed(2)}),e.setState({bettable:(parseFloat(Object.values(n)[4])/P(10)).toFixed(2)}),e.setState({betNumberP2P:t}))}):s&&e.setState({bestCote:"indispo",bettable:"indispo"})})}catch(n){console.log(n)}}},{key:"orderBook",value:function(t){try{this.props.betContract.methods.getorderBook(this.props.betNumber,this.props.optionNumber,t).call().then(function(t){console.log(t)})}catch(e){console.log(e)}}},{key:"approveUSDT",value:function(t){this.props.usdtContract.methods.approve("0xd59F3464aFA2b0a1E75C75d417707c985E50Bf8B",j(t)).send({from:this.props.address}).once("receipt",function(t){console.log("approve success")})}},{key:"betOnThisOption",value:function(t){try{this.props.betContract.methods.joinP2PBet(this.props.betNumber,this.state.betNumberP2P,j(t)).send({from:this.props.address}).once("receipt",function(t){console.log("bet success")})}catch(e){console.log(e)}}},{key:"render",value:function(){var t=this;return g.a.createElement("div",{className:"P2POption"},g.a.createElement("h5",null,this.props.team),g.a.createElement("input",{className:"css-input",id:"minBet",type:"number",value:this.state.minBet,onChange:function(e){return t.setState({minBet:e.target.value})}}),g.a.createElement("button",{className:"button",onClick:function(e){t.searchCote(j(t.state.minBet))}},"Search Cote"),g.a.createElement("h5",null,"best cote : ",this.state.bestCote),g.a.createElement("h5",null,"amount bettable : ",this.state.bettable),g.a.createElement("input",{className:"css-input",id:"amountToBetOnP2POptionPool",type:"number",value:this.state.amountToBet,onChange:function(e){return t.setState({amountToBet:e.target.value})}}),g.a.createElement("button",{className:"button",onClick:function(e){t.approveUSDT(t.state.amountToBet)}},"APPROVE USDT"),g.a.createElement("button",{className:"button",onClick:function(e){t.betOnThisOption(t.state.amountToBet)}},"BET"),g.a.createElement("button",{className:"button",onClick:function(e){t.orderBook(j(t.state.minBet))}},"orderBook"))}}]),e}(g.a.Component);M.defaultProps={};var A=M;function P(t){return Math.pow(t,18)}function j(t){return BigInt(t*P(10))}var S=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={amountToBet:void 0,cote:void 0,P2PBetCreatorSwitcher:"public",selectedOption:0,authorized:void 0},n.switchButton=n.switchButton.bind(Object(d.a)(Object(d.a)(n))),n.approveUSDT=n.approveUSDT.bind(Object(d.a)(Object(d.a)(n))),n.approveMBT=n.approveMBT.bind(Object(d.a)(Object(d.a)(n))),n.createP2PBet=n.createP2PBet.bind(Object(d.a)(Object(d.a)(n))),n.seeP2PBets=n.seeP2PBets.bind(Object(d.a)(Object(d.a)(n))),n}return Object(m.a)(e,t),Object(y.a)(e,[{key:"componentDidMount",value:function(){this.setState({authorized:void 0}),console.log(this.state.authorized)}},{key:"switchButton",value:function(){"public"===this.state.P2PBetCreatorSwitcher?this.setState({P2PBetCreatorSwitcher:"friends only"}):this.setState({P2PBetCreatorSwitcher:"public"})}},{key:"approveUSDT",value:function(t){this.props.usdtContract.methods.approve("0xd59F3464aFA2b0a1E75C75d417707c985E50Bf8B",N(t)).send({from:this.props.address}).once("receipt",function(t){console.log("approve success")})}},{key:"approveMBT",value:function(t){this.props.mbtContract.methods.approve("0xd59F3464aFA2b0a1E75C75d417707c985E50Bf8B",N(t)).send({from:this.props.address}).once("receipt",function(t){console.log("approve success")})}},{key:"createP2PBet",value:function(t,e,n,a){a=void 0===a?[]:a.split(","),console.log(t,e,n,a);var i=(e-1)*t;i=N(parseFloat(i.toPrecision(7))),this.props.betContract.methods.createP2PBet(N(t),i,this.props.betNumber,n,a).send({from:this.props.address}).once("receipt",function(t){console.log("new bet Created")})}},{key:"seeP2PBets",value:function(){try{this.props.betContract.methods.seeP2PBets(this.props.betNumber).call().then(console.log)}catch(t){console.log(t)}}},{key:"render",value:function(){var t=this;return g.a.createElement("div",null,g.a.createElement("h3",null,"Create a new Bet"),g.a.createElement("h5",null,"amountTOBet :"),g.a.createElement("input",{className:"css-input",placeholder:"amountTOBet",id:"amountToBet",type:"number",value:this.state.amountToBet||"",onChange:function(e){return t.setState({amountToBet:e.target.value})}}),g.a.createElement("h5",null,"cote :"),g.a.createElement("input",{className:"css-input",placeholder:"cote",id:"cote",type:"number",value:this.state.cote||"",onChange:function(e){return t.setState({cote:e.target.value})}}),g.a.createElement("select",{value:this.state.selectedOption,onChange:function(e){t.setState({selectedOption:e.target.value}),console.log(e.target.value)}},null==this.props.optionsArray?null:this.props.optionsArray.split(",").map(function(t,e){return g.a.createElement("option",{key:e,value:e},t)})),g.a.createElement("br",null),g.a.createElement("button",{className:"button",onClick:this.switchButton},this.state.P2PBetCreatorSwitcher),g.a.createElement("input",{type:"text",className:"public"===this.state.P2PBetCreatorSwitcher?"hidden":void 0,value:this.state.authorized||"",onChange:function(e){t.setState({authorized:e.target.value}),console.log(t.state.authorized)}}),g.a.createElement("h3",null,"will cost you ",this.state.amountToBet," USDT and"," ",this.state.amountToBet," MBT"),g.a.createElement("button",{className:"button",onClick:function(e){t.approveUSDT(t.state.amountToBet)}},"APPROVE USDT"),g.a.createElement("button",{className:"button",onClick:function(e){t.approveMBT(t.state.amountToBet)}},"APPROVE MBT"),g.a.createElement("button",{className:"button",onClick:function(e){console.log(t.state.selectedOption),t.createP2PBet(t.state.amountToBet,t.state.cote,t.state.selectedOption,t.state.authorized)}},"CREATE BET"),g.a.createElement("button",{className:"button",onClick:this.seeP2PBets},"seeP2PBets"))}}]),e}(g.a.Component);function N(t){return BigInt(t*(e=10,Math.pow(e,18)));var e}var k=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={optionsArray:null,date:null,type:null,country:null,league:null},fetch("http://localhost:4000/api/infoMatch/"+t.betNumber,{method:"GET"}).then(function(t){t.json().then(function(t){n.setState({optionsArray:t.optionsArray,date:t.date,type:t.type,country:t.country,league:t.league})})}),n}return Object(m.a)(e,t),Object(y.a)(e,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(t){console.log("update betcomplet ")}}]),Object(y.a)(e,[{key:"componentWillUnmount",value:function(){console.log("unmount BetComplet")}},{key:"render",value:function(){var t=this;return g.a.createElement("div",{className:"betComplet"},g.a.createElement("h1",null,this.state.optionsArray," le ",function(t){var e=new Date(1e3*t),n=e.getFullYear(),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],i=e.getDate(),s=e.getHours(),o=e.getMinutes(),u=e.getSeconds();return i+" "+a+" "+n+" "+s+":"+o+":"+u}(this.state.date)),g.a.createElement("div",{className:"optionsPool"},null==this.state.optionsArray?null:this.state.optionsArray.split(",").map(function(e,n){return g.a.createElement(O,{key:e,team:e,betNumber:t.props.betNumber,optionNumber:n,betContract:t.props.betContract,usdtContract:t.props.usdtContract,address:t.props.address})})),g.a.createElement("div",{className:"p2pgames"},g.a.createElement("h2",null,"P2P"),g.a.createElement(S,{betContract:this.props.betContract,usdtContract:this.props.usdtContract,address:this.props.address,mbtContract:this.props.mbtContract,optionsArray:this.state.optionsArray,betNumber:this.props.betNumber}),null==this.state.optionsArray?null:this.state.optionsArray.split(",").map(function(e,n){return g.a.createElement(A,{key:e,team:e,betNumber:t.props.betNumber,optionNumber:n,betContract:t.props.betContract,usdtContract:t.props.usdtContract,address:t.props.address})})))}}]),e}(g.a.Component);var x=function(t){var e=Object(f.c)(),n=Object(w.a)(e,2),a=n[0];n[1];return g.a.createElement("div",null,g.a.createElement(k,{betNumber:a.get("n"),betContract:t.betContract,usdtContract:t.usdtContract,mbtContract:t.mbtContract,address:t.address}))};x.defaultProps={};var U=x,D=n(108),R=n.n(D),F=(n(510),"0xd59F3464aFA2b0a1E75C75d417707c985E50Bf8B"),L=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"betNumber",type:"uint256"}],name:"betClosed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"betNumber",type:"uint256"},{indexed:!0,internalType:"uint256",name:"winner",type:"uint256"}],name:"betDead",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"better",type:"address"},{indexed:!0,internalType:"uint256",name:"numberBet",type:"uint256"},{indexed:!1,internalType:"uint256",name:"option",type:"uint256"},{indexed:!0,internalType:"uint256",name:"amount",type:"uint256"}],name:"betting",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"betNumber",type:"uint256"},{indexed:!0,internalType:"string",name:"nameBet",type:"string"}],name:"newBetCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ownerPayed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"payed",type:"address"},{indexed:!0,internalType:"uint256",name:"amount",type:"uint256"}],name:"payment",type:"event"},{inputs:[],name:"CREATOR_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ENDER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PAUSER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"arr",type:"uint256[]"}],name:"arrayReverser",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"betNumber",type:"uint256"},{internalType:"uint256",name:"option",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"betOn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"betNumber",type:"uint256"}],name:"cancelBet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"testNo",type:"uint256"}],name:"checkEven",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[],name:"claimFeesMoney",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"betNumber",type:"uint256"}],name:"closeBet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"betsToClose",type:"uint256[]"}],name:"closeBets",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"a",type:"string"},{internalType:"string",name:"b",type:"string"}],name:"compareStrings",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[],name:"constructor1",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"list",type:"uint256[]"}],name:"countZeros",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"optionsNumber",type:"uint256"}],name:"createNewBet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string[]",name:"names",type:"string[]"},{internalType:"uint256[]",name:"optionsNumbers",type:"uint256[]"},{internalType:"uint256",name:"numberOfBetsToAdd",type:"uint256"}],name:"createNewBets",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountToBet",type:"uint256"},{internalType:"uint256",name:"amountToEnter",type:"uint256"},{internalType:"uint256",name:"betNumber",type:"uint256"},{internalType:"uint256",name:"optionToBet",type:"uint256"},{internalType:"address[]",name:"authorized",type:"address[]"}],name:"createP2PBet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"uint256[]",name:"list",type:"uint256[]"}],name:"deleteIndexFromUint256Array",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"betNumber",type:"uint256"},{internalType:"uint256",name:"poolWin",type:"uint256"}],name:"endBet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"betNumbers",type:"uint256[]"},{internalType:"uint256[]",name:"poolwinners",type:"uint256[]"}],name:"endBets",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"betNumber",type:"uint256"},{internalType:"uint256",name:"p2pNumber",type:"uint256"},{internalType:"address",name:"msgsender",type:"address"}],name:"getAmountBetted",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getFees",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getFeesRewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastBet",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"list",type:"uint256[]"}],name:"getLowerIndexMinimum",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getMBTaddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"betNumber",type:"uint256"},{internalType:"uint256",name:"optionAgainst",type:"uint256"},{internalType:"uint256",name:"minToEnter",type:"uint256"}],name:"getMaxCote",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"betNumber",type:"uint256"}],name:"getMoneyLosedOnBet",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"msgsender",type:"address"}],name:"getMyBetsUnpaid",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"}],name:"getNameToNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"betNumber",type:"uint256"}],name:"getNumberOfOptions",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"number",type:"uint256"}],name:"getNumberToName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"betNumber",type:"uint256"},{internalType:"uint256",name:"option",type:"uint256"}],name:"getOptionMoney",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"betNumber",type:"uint256"},{internalType:"uint256",name:"p2pNumber",type:"uint256"}],name:"getPayedP2P",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"msgsender",type:"address"}],name:"getScore",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getUSDTaddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"betNumber",type:"uint256"}],name:"getWinner",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"betNumber",type:"uint256"}],name:"getbetNumberToLastBetPP",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"betNumber",type:"uint256"},{internalType:"uint256",name:"optionAgainst",type:"uint256"},{internalType:"uint256",name:"minToEnter",type:"uint256"}],name:"getorderBook",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"betNumber",type:"uint256"},{internalType:"address",name:"addressToTest",type:"address"}],name:"haveIBeenPaid",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"betNumber",type:"uint256"},{internalType:"uint256",name:"option",type:"uint256"},{internalType:"address",name:"msgsender",type:"address"}],name:"howMuchIGotOnAnOption",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"betNumber",type:"uint256"},{internalType:"address",name:"msgsender",type:"address"}],name:"howMuchIWon",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"msgsender",type:"address"}],name:"howMuchIWonP2P",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"betNumber",type:"uint256"}],name:"isCanceled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"betNumber",type:"uint256"}],name:"isClosed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"betNumber",type:"uint256"}],name:"isDead",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"element",type:"address"},{internalType:"address[]",name:"list",type:"address[]"}],name:"isInArrayAddress",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"element",type:"uint256"},{internalType:"uint256[]",name:"list",type:"uint256[]"}],name:"isInArrayUint256",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"betNumber",type:"uint256"},{internalType:"uint256",name:"p2pNumber",type:"uint256"},{internalType:"uint256",name:"amountToBet",type:"uint256"}],name:"joinP2PBet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"betNumber",type:"uint256"},{internalType:"uint256",name:"option",type:"uint256"},{internalType:"address",name:"msgsender",type:"address"}],name:"myPourcentageOnOption",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"recupAllP2PWin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"recupAllWin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"msgsender",type:"address"}],name:"seeMyBets",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"msgsender",type:"address"}],name:"seeMyP2PBets",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"msgsender",type:"address"},{internalType:"uint256",name:"betNumber",type:"uint256"}],name:"seeMyP2PBetsDetail",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"betNumber",type:"uint256"},{internalType:"uint256",name:"p2pNumber",type:"uint256"}],name:"seeP2PBet",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"},{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"betNumber",type:"uint256"}],name:"seeP2PBets",outputs:[{components:[{internalType:"uint256",name:"ppbetNumber",type:"uint256"},{internalType:"address",name:"creator",type:"address"},{internalType:"uint256",name:"amountBet",type:"uint256"},{internalType:"uint256",name:"cote",type:"uint256"},{internalType:"uint256",name:"amountToEnter",type:"uint256"},{internalType:"uint256",name:"betCorrelated",type:"uint256"},{internalType:"uint256",name:"optionCreator",type:"uint256"},{internalType:"bool",name:"friends",type:"bool"},{internalType:"address[]",name:"authorized",type:"address[]"}],internalType:"struct MultiBetUSDTMultiOptions.p2pBet[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_fees",type:"uint256"}],name:"setFees",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"data",type:"uint256[]"}],name:"sort",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"msgsender",type:"address"}],name:"toClaimTotal",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],W=[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{constant:!0,inputs:[],name:"_decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"_name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"_symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getOwner",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"renounceOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],z=[{inputs:[{internalType:"uint256",name:"initialSupply",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],q=[{inputs:[{internalType:"address",name:"oracle",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address[]",name:"authorized",type:"address[]"},{internalType:"uint256",name:"playersNumber",type:"uint256"},{internalType:"bool",name:"privateBet",type:"bool"}],name:"createDecentraBet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"winner",type:"address"}],name:"endBet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"joinBet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"recupWin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"uint256[]",name:"arr",type:"uint256[]"}],name:"arrayReverser",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"testNo",type:"uint256"}],name:"checkEven",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"string",name:"a",type:"string"},{internalType:"string",name:"b",type:"string"}],name:"compareStrings",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256[]",name:"list",type:"uint256[]"}],name:"countZeros",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"uint256[]",name:"list",type:"uint256[]"}],name:"deleteIndexFromUint256Array",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256[]",name:"list",type:"uint256[]"}],name:"getLowerIndexMinimum",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"infoSpecBet",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"bool",name:"",type:"bool"},{internalType:"bool",name:"",type:"bool"},{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"element",type:"address"},{internalType:"address[]",name:"list",type:"address[]"}],name:"isInArrayAddress",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"element",type:"uint256"},{internalType:"uint256[]",name:"list",type:"uint256[]"}],name:"isInArrayUint256",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256[]",name:"data",type:"uint256[]"}],name:"sort",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"viewADecentrabet",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"},{internalType:"address[]",name:"",type:"address[]"},{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],G=function(t){function e(){return Object(p.a)(this,e),Object(l.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(y.a)(e,[{key:"render",value:function(){return g.a.createElement("div",null,g.a.createElement("button",{className:"button",onClick:this.props.connectWalletHandler},this.props.connButtonText),g.a.createElement("div",{className:"accountDisplay"},g.a.createElement("h5",null,"Address: ",this.props.defaultAccount)),this.props.errorMessage)}}]),e}(g.a.Component);G.defaultProps={};var I=G,V=n(188),X=n.n(V),H=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={oracle:null,amountToBet:null,authorized:void 0,P2PBetCreatorSwitcher:"public",playersNumber:null,privated:!1},n.switchButton=n.switchButton.bind(Object(d.a)(Object(d.a)(n))),n.approveUSDT=n.approveUSDT.bind(Object(d.a)(Object(d.a)(n))),n.createDecentraBet=n.createDecentraBet.bind(Object(d.a)(Object(d.a)(n))),n}return Object(m.a)(e,t),Object(y.a)(e,[{key:"switchButton",value:function(){"public"===this.state.P2PBetCreatorSwitcher?this.setState({P2PBetCreatorSwitcher:"friends only"}):this.setState({P2PBetCreatorSwitcher:"public"})}},{key:"approveUSDT",value:function(t){this.props.usdtContract.methods.approve("0x7e46BA7F5228a7B531B07AD939C921d5ea48a552",Z(t)).send({from:this.props.address}).once("receipt",function(t){console.log("approve success")})}},{key:"createDecentraBet",value:function(t,e,n,a,i){n=void 0===n||"public"===this.state.P2PBetCreatorSwitcher?[]:n.split(","),null===a&&(a=0),console.log(t,e,n,a,i),this.props.decentrabetContract.methods.createDecentraBet(t,Z(e),n,a,i).send({from:this.props.address}).once("receipt",function(t){console.log("bet creation success")})}},{key:"render",value:function(){var t=this;return g.a.createElement("div",{className:"DecentraBetCreator"},g.a.createElement("h3",null,"create a DecentraBet"),g.a.createElement("h5",null,"oracle : "),g.a.createElement("input",{type:"text",className:"css-input",placeholder:"oracle",onChange:function(e){return t.setState({oracle:e.target.value})}}),g.a.createElement("h5",null,"amountTOBet :"),g.a.createElement("input",{className:"css-input",placeholder:"amountToBet",type:"number",value:this.state.amountToBet||"",onChange:function(e){return t.setState({amountToBet:e.target.value})}}),g.a.createElement("button",{className:"button",onClick:this.switchButton},this.state.P2PBetCreatorSwitcher),g.a.createElement("input",{type:"text",className:"public"===this.state.P2PBetCreatorSwitcher?"hidden":void 0,value:this.state.authorized||"",onChange:function(e){t.setState({authorized:e.target.value}),console.log(t.state.authorized)},placeholder:"addresses authorized"}),g.a.createElement("input",{className:"public"===this.state.P2PBetCreatorSwitcher?void 0:"hidden",value:this.state.playersNumber||"",onChange:function(e){t.setState({playersNumber:e.target.value}),console.log(t.state.playersNumber)},placeholder:"playersNumber"}),g.a.createElement("input",{type:"checkbox",className:"css-input",onChange:function(e){t.setState({privated:!1===t.state.privated}),console.log(t.state.privated)},value:"checked"}),g.a.createElement("h3",null,"amount to Bet :"),g.a.createElement("button",{className:"button",onClick:function(e){t.approveUSDT(t.state.amountToBet)}},"APPROVE USDT"),g.a.createElement("button",{className:"button",onClick:function(e){t.createDecentraBet(t.state.oracle,t.state.amountToBet,t.state.authorized,t.state.playersNumber,t.state.privated)}},"Create a DecentraBet"))}}]),e}(g.a.Component);function Z(t){return BigInt(t*(e=10,Math.pow(e,18)));var e}var Q=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={idBetToView:null,amountToBet:null,stateBet:null,winnerToSet:null},n.viewBet=n.viewBet.bind(Object(d.a)(Object(d.a)(n))),n.endBet=n.endBet.bind(Object(d.a)(Object(d.a)(n))),n.joinBet=n.joinBet.bind(Object(d.a)(Object(d.a)(n))),n.approveUSDT=n.approveUSDT.bind(Object(d.a)(Object(d.a)(n))),n}return Object(m.a)(e,t),Object(y.a)(e,[{key:"approveUSDT",value:function(t){t=BigInt(t*J(10)),console.log(t),this.props.usdtContract.methods.approve("0x7e46BA7F5228a7B531B07AD939C921d5ea48a552",t).send({from:this.props.address}).once("receipt",function(t){console.log("approve success")})}},{key:"viewBet",value:function(){var t=this;this.props.decentrabetContract.methods.viewADecentrabet(this.state.idBetToView).call().then(function(e){console.log(e),t.setState({amountToBet:Object.values(e)[1]/J(10)}),t.setState({stateBet:!1===Object.values(e)[4]?"alive":"dead"}),t.props.decentrabetContract.methods.infoSpecBet(t.state.idBetToView).call().then(function(t){console.log(t)})})}},{key:"joinBet",value:function(){this.props.decentrabetContract.methods.joinBet(this.state.idBetToView).send({from:this.props.address}).once("receipt",function(t){console.log("bet join success")})}},{key:"endBet",value:function(){console.log(this.state.idBetToView,this.state.winnerToSet),this.props.decentrabetContract.methods.endBet(this.state.idBetToView,this.state.winnerToSet).send({from:this.props.address}).once("receipt",function(t){console.log("bet ending success")})}},{key:"render",value:function(){var t=this;return g.a.createElement("div",{className:"viewADecentraBet"},g.a.createElement("input",{className:"css-input",placeholder:"idBetToView",type:"number",value:this.state.idBetToView||"",onChange:function(e){return t.setState({idBetToView:e.target.value})}}),g.a.createElement("button",{className:"button",onClick:this.viewBet},"viewBet"),g.a.createElement("h3",null,"Bet n\xb0 ",this.state.idBetToView),g.a.createElement("h4",null,"Amount to Bet : ",this.state.amountToBet," USDT "),g.a.createElement("button",{className:"button",onClick:function(e){t.approveUSDT(t.state.amountToBet)}},"Approve USDT"),g.a.createElement("h4",null,"state:",this.state.stateBet),g.a.createElement("button",{className:"button",onClick:this.joinBet},"Join Bet"),g.a.createElement("h3",null,"i'm oracle !"),g.a.createElement("input",{type:"text",className:"css-input",value:this.state.winnerToSet||"",onChange:function(e){t.setState({winnerToSet:e.target.value})},placeholder:"winner"}),g.a.createElement("button",{className:"button",onClick:this.endBet},"endBet"))}}]),e}(g.a.Component);function J(t){return Math.pow(t,18)}var K,Y=function(t){function e(t){return Object(p.a)(this,e),Object(l.a)(this,Object(c.a)(e).call(this,t))}return Object(m.a)(e,t),Object(y.a)(e,[{key:"render",value:function(){return g.a.createElement("div",{className:"decentraBet"},g.a.createElement(H,{decentrabetContract:this.props.decentrabetContract,usdtContract:this.props.usdtContract,address:this.props.address}),g.a.createElement(Q,{decentrabetContract:this.props.decentrabetContract,usdtContract:this.props.usdtContract,address:this.props.address}))}}]),e}(g.a.Component),_=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={data:null,dataPerso:null,loaded:!1,address:null},fetch("http://localhost:4000/api/classement/",{method:"GET"}).then(function(t){t.json().then(function(t){console.log(t),n.setState({data:t})})}),n}return Object(m.a)(e,t),Object(y.a)(e,[{key:"componentDidMount",value:function(){var t=this;if(""!==this.props.address){this.setState({address:this.props.address.toLowerCase()});var e="http://localhost:4000/api/score/"+this.props.address;console.log(e),fetch(e,{method:"GET"}).then(function(e){e.json().then(function(e){console.log(e[0].position),t.setState({loaded:!0,dataPerso:e})})})}}},{key:"componentDidUpdate",value:function(t){var e=this;if(t!==this.props&&!1===this.state.loaded&&""!==this.props.address){this.setState({address:this.props.address.toLowerCase()});var n="http://localhost:4000/api/score/"+this.props.address;console.log(n),fetch(n,{method:"GET"}).then(function(t){t.json().then(function(t){console.log(t[0].position),e.setState({loaded:!0,dataPerso:t})})})}}},{key:"render",value:function(){return g.a.createElement("div",null,g.a.createElement("table",{className:"blueTable"},g.a.createElement("thead",null,g.a.createElement("tr",null,g.a.createElement("th",null,"address"),g.a.createElement("th",null,"pseudo"),g.a.createElement("th",null,"score"),g.a.createElement("th",null,"rang"))),g.a.createElement("tbody",null,null==this.state.data?null:this.state.data.map(function(t,e){return g.a.createElement("tr",{key:e},g.a.createElement("td",null,t.address),g.a.createElement("td",null,t.pseudo),g.a.createElement("td",null,t.score),g.a.createElement("td",null,e+1))}),g.a.createElement("tr",null,g.a.createElement("td",null),g.a.createElement("td",null),g.a.createElement("td",null),g.a.createElement("td",null)),g.a.createElement("tr",null,g.a.createElement("td",null,this.state.address),g.a.createElement("td",null,this.state.loaded?this.state.dataPerso[0].pseudo:""),g.a.createElement("td",null,this.state.loaded?this.state.dataPerso[0].score:""),g.a.createElement("td",null,this.state.loaded?this.state.dataPerso[0].position:"")))))}}]),e}(g.a.Component),$=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={myBets:[]},console.log("contrsuction"),n}return Object(m.a)(e,t),Object(y.a)(e,[{key:"componentDidMount",value:function(){var t=this;if(K=!0,""!==this.props.address)try{console.log(this.props.address),fetch("http://localhost:4000/api/mybets/"+this.props.address,{method:"GET"}).then(function(e){e.json().then(function(e){console.log("data "+e),K&&t.setState({myBets:e})})})}catch(e){console.log(e)}}},{key:"componentDidUpdate",value:function(t){var e=this;if(console.log("update"),""!==this.props.address&&this.props!==t&&K)try{console.log(this.props.address),fetch("http://localhost:4000/api/mybets/"+this.props.address,{method:"GET"}).then(function(t){t.json().then(function(t){console.log(t),K&&e.setState({myBets:t})})})}catch(n){console.log(n)}}},{key:"componentWillUnmount",value:function(){K=!1}},{key:"render",value:function(){return g.a.createElement("div",null,this.state.myBets.map(function(t){return g.a.createElement("div",{key:t.id},g.a.createElement(f.b,{to:"/bet/numBet?n="+t.id},g.a.createElement("h5",null," Bet "+t.id+" : "+t.optionsArray.split(",")[0]+" - "+t.optionsArray.split(",")[t.optionsArray.split(",").length-1])),g.a.createElement("br",null))}))}}]),e}(g.a.Component);$.defaultProps={};var tt,et,nt=$,at=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(l.a)(this,Object(c.a)(e).call(this,t))).getNonceReact=n.getNonceReact.bind(Object(d.a)(Object(d.a)(n))),n.signNonceReact=n.signNonceReact.bind(Object(d.a)(Object(d.a)(n))),n.requestLoginReact=n.requestLoginReact.bind(Object(d.a)(Object(d.a)(n))),n.testLoginReact=n.testLoginReact.bind(Object(d.a)(Object(d.a)(n))),n.logoutReact=n.logoutReact.bind(Object(d.a)(Object(d.a)(n))),n.state={logged:"not logged"},n}return Object(m.a)(e,t),Object(y.a)(e,[{key:"getNonceReact",value:function(){var t=Object(r.a)(u.a.mark(function t(e){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("trying request 1"),t.next=3,it(e).then(console.log);case 3:console.log("/|");case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},{key:"signNonceReact",value:function(){var t=Object(r.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ot("ewww",this.props.web3,this.props.address);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"requestLoginReact",value:function(){var t=Object(r.a)(u.a.mark(function t(){var e=this;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,it(this.props.address).then(function(){var t=Object(r.a)(u.a.mark(function t(n){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rt(n.nonce,e.props.web3,e.props.address).then(function(t){console.log(t),e.testLoginReact()});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"testLoginReact",value:function(){var t=Object(r.a)(u.a.mark(function t(){var e=this;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lt().then(function(t){console.log("res "+t),!0===t.isLogged?e.setState({logged:"logged"}):e.setState({logged:"not logged"})});case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"logoutReact",value:function(){var t=Object(r.a)(u.a.mark(function t(){var e=this;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yt().then(function(t){e.testLoginReact()});case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return g.a.createElement("div",null,g.a.createElement("h3",null," Authentification Component"),g.a.createElement("button",{onClick:function(e){t.getNonceReact(t.props.address)}},"Request my nonce"),g.a.createElement("button",{onClick:this.signNonceReact},"Sign Nonce"),g.a.createElement("button",{onClick:this.requestLoginReact},"Login"),g.a.createElement("button",{onClick:this.testLoginReact},"testLogin"),g.a.createElement("button",{onClick:this.logoutReact},"LogOut"),g.a.createElement("h4",null,this.state.logged))}},{key:"componentDidMount",value:function(){tt=!0}}]),e}(g.a.Component);function it(t){return st.apply(this,arguments)}function st(){return(st=Object(r.a)(u.a.mark(function t(e){var n,a,i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("trying request nonce"),n="ewe",!tt||""===e){t.next=7;break}return a="http://localhost:4000/api/nonce/"+e,i={method:"GET"},t.next=7,new Promise(function(t){fetch(a,i).then(function(e){e.json().then(function(e){n=e,t()})})});case 7:return t.abrupt("return",n);case 8:case"end":return t.stop()}},t)}))).apply(this,arguments)}function ot(t,e,n){return ut.apply(this,arguments)}function ut(){return(ut=Object(r.a)(u.a.mark(function t(e,n,a){var i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i="ew",t.next=3,n.eth.personal.sign(n.utils.sha3(e),a).then(function(t){console.log("signedNonce: ",t),i=t});case 3:return console.log("before sign "+n.utils.sha3(e)+" signed "+i),t.abrupt("return",i);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function rt(t,e,n){return pt.apply(this,arguments)}function pt(){return(pt=Object(r.a)(u.a.mark(function t(e,n,a){var i,s,o,r;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ot(e,n,a);case 2:if(i=t.sent,console.log("trying login request with "+i),!tt||""===a){t.next=13;break}return s="http://localhost:4000/login",o=JSON.stringify({signedNonce:i,address:a}),console.log(s),r={method:"POST",body:o,headers:{"Content-Type":"application/json"}},t.next=11,new Promise(function(t){fetch(s,r).then(function(e){console.log("done"),t()})});case 11:return console.log("end function"),t.abrupt("return","done2");case 13:case"end":return t.stop()}},t)}))).apply(this,arguments)}function lt(){return ct.apply(this,arguments)}function ct(){return(ct=Object(r.a)(u.a.mark(function t(){var e,n,a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!tt){t.next=7;break}return e="http://localhost:4000/api/testlogin",console.log(e),n={method:"GET"},t.next=6,new Promise(function(t){fetch(e,n).then(function(e){e.json().then(function(e){console.log(e),a=e,t()})})});case 6:return t.abrupt("return",a);case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}function yt(){return mt.apply(this,arguments)}function mt(){return(mt=Object(r.a)(u.a.mark(function t(){var e;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:tt&&(e="http://localhost:4000/logout",console.log(e),fetch(e,{method:"POST"}).then(function(t){console.log("done")}));case 1:case"end":return t.stop()}},t)}))).apply(this,arguments)}function dt(){return(dt=Object(r.a)(u.a.mark(function t(e){var n,a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!et){t.next=8;break}return"http://localhost:4000/api/setUpPseudo/",n=JSON.stringify({newPseudo:e}),a={method:"POST",body:n,headers:{"Content-Type":"application/json"}},t.next=6,new Promise(function(t){fetch("http://localhost:4000/api/setUpPseudo/",a).then(function(e){console.log("done "+e.status),t()})});case 6:return console.log("end function"),t.abrupt("return","done2");case 8:case"end":return t.stop()}},t)}))).apply(this,arguments)}var bt=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(l.a)(this,Object(c.a)(e).call(this,t))).state={loaded:!1,myPseudo:void 0,dataPerso:void 0,newPseudo:""},n.setPseudoReact=n.setPseudoReact.bind(Object(d.a)(Object(d.a)(n))),n}return Object(m.a)(e,t),Object(y.a)(e,[{key:"render",value:function(){var t=this;return g.a.createElement("div",null,g.a.createElement("h4",null,"Account Component"),g.a.createElement("h3",null,"my pseudo is ",this.state.loaded?this.state.dataPerso[0].pseudo:""),g.a.createElement("input",{type:"text",value:this.state.newPseudo,onChange:function(e){return t.setState({newPseudo:e.target.value})}}),g.a.createElement("button",{onClick:function(e){t.setPseudoReact(t.state.newPseudo)}},"change Pseudo"))}},{key:"setPseudoReact",value:function(t){!function(t){dt.apply(this,arguments)}(t)}},{key:"componentDidMount",value:function(){et=!0}},{key:"componentDidUpdate",value:function(t){var e=this;if(t!==this.props&&!1===this.state.loaded&&""!==this.props.address){this.setState({address:this.props.address.toLowerCase()});var n="http://localhost:4000/api/score/"+this.props.address;console.log(n),fetch(n,{method:"GET"}).then(function(t){t.json().then(function(t){console.log(t[0]),e.setState({loaded:!0,dataPerso:t})})})}}}]),e}(g.a.Component),ht=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(l.a)(this,Object(c.a)(e).call(this,t))).accountChangedHandler=function(t){n.setState({defaultAccount:t}),n.allowancesSetter()},n.connectWalletHandler=function(){window.ethereum&&window.ethereum.isMetaMask?(console.log("MetaMask Here!"),window.ethereum.request({method:"eth_requestAccounts"}).then(function(t){n.accountChangedHandler(t[0]),n.setState({connButtonText:"Wallet Connected"})}).catch(function(t){n.setState({errorMessage:t.message})})):(console.log("Need to install MetaMask"),n.setState({errorMessage:"Please install MetaMask browser extension to interact"}))},n.state={account:"",taskCount:0,tasks:[],loading:!0,errorMessage:"",defaultAccount:"",connButtonText:"Connect Wallet",usdtAllowed:null,mbtAllowed:null},n.accountChangedHandler=n.accountChangedHandler.bind(Object(d.a)(Object(d.a)(n))),n.loadBlockchainData(),n.allowancesSetter=n.allowancesSetter.bind(Object(d.a)(Object(d.a)(n))),n}return Object(m.a)(e,t),Object(y.a)(e,[{key:"loadBlockchainData",value:function(){var t=Object(r.a)(u.a.mark(function t(){var e,n,a,i,s,o,r=this;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new R.a(R.a.givenProvider),t.next=3,e.eth.getAccounts();case 3:n=t.sent,this.setState({account:n[0]}),a=new e.eth.Contract(L,F),i=new e.eth.Contract(W,"0x7ef95a0FEE0Dd31b22626fA2e10Ee6A223F8a684"),s=new e.eth.Contract(z,"0xF70caeE1a6F3b0cD28701b905215826595CB01a5"),o=new e.eth.Contract(q,"0x7e46BA7F5228a7B531B07AD939C921d5ea48a552"),this.setState({multiBetContract:a}),this.setState({USDTContract:i}),this.setState({mbtContract:s}),this.setState({decentrabetContract:o}),this.setState({web3:e}),window.ethereum.request({method:"eth_requestAccounts"}).then(function(t){r.accountChangedHandler(t[0])}),this.setState({loading:!1});case 16:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),Object(y.a)(e,[{key:"allowancesSetter",value:function(){var t=this;try{console.log(this.state.defaultAccount),this.state.USDTContract.methods.allowance(this.state.defaultAccount,F).call().then(function(e){t.setState({usdtAllowed:parseFloat(e)/ft(10)}),console.log("usdt allowed "+e)})}catch(e){console.log(e)}try{console.log(this.state.defaultAccount),this.state.mbtContract.methods.allowance(this.state.defaultAccount,F).call().then(function(e){t.setState({mbtAllowed:parseFloat(e)/ft(10)}),console.log("mbt allowed "+e)})}catch(e){console.log(e)}}},{key:"render",value:function(){return g.a.createElement(f.a,null,g.a.createElement(T.d,null,g.a.createElement(T.b,{path:"/",element:g.a.createElement("div",null,g.a.createElement("div",{className:"container-fluid"},g.a.createElement("div",{className:"row"},g.a.createElement(f.b,{to:"/"},g.a.createElement("img",{src:X.a,alt:"homeImage"})),g.a.createElement("main",{role:"main",className:"col-lg-12 d-flex justify-content-end"},g.a.createElement(I,{connectWalletHandler:this.connectWalletHandler,defaultAccount:this.state.defaultAccount,errorMessage:this.state.errorMessage,connButtonText:this.state.connButtonText}),g.a.createElement("h4",null,"usdt allowed: ",this.state.usdtAllowed),g.a.createElement("br",null),g.a.createElement("h4",null," mbt allowed: ",this.state.mbtAllowed))),g.a.createElement(f.b,{to:"/basketball"},g.a.createElement("h3",null,"ListBets")),g.a.createElement(f.b,{to:"/decentrabet"},g.a.createElement("h3",null,"Decentrabet")),g.a.createElement(f.b,{to:"/classement"},g.a.createElement("h3",null,"Classement")),g.a.createElement(f.b,{to:"/mybets"},g.a.createElement("h3",null,"myBets")),g.a.createElement(f.b,{to:"/authentification"},g.a.createElement("h3",null,"authentification")),g.a.createElement(f.b,{to:"/account"},g.a.createElement("h3",null,"account"))),g.a.createElement(T.a,null))},g.a.createElement(T.b,{path:"/basketball",element:g.a.createElement(B,null)}),g.a.createElement(T.b,{path:"/bet/:id",element:g.a.createElement(U,{betContract:this.state.multiBetContract,usdtContract:this.state.USDTContract,address:this.state.defaultAccount,mbtContract:this.state.mbtContract})}),g.a.createElement(T.b,{path:"/decentrabet",element:g.a.createElement(Y,{decentrabetContract:this.state.decentrabetContract,usdtContract:this.state.USDTContract,address:this.state.defaultAccount})}),g.a.createElement(T.b,{path:"/classement",element:g.a.createElement(_,{address:this.state.defaultAccount})}),g.a.createElement(T.b,{path:"/mybets",element:g.a.createElement(nt,{betContract:this.state.multiBetContract,address:this.state.defaultAccount})}),g.a.createElement(T.b,{path:"/authentification",element:g.a.createElement(at,{web3:this.state.web3,address:this.state.defaultAccount})}),g.a.createElement(T.b,{path:"/account",element:g.a.createElement(bt,{address:this.state.defaultAccount})}))))}}]),e}(v.Component);function ft(t){return Math.pow(t,18)}h.a.render(g.a.createElement(ht,null),document.getElementById("root"))}},[[191,1,2]]]);
//# sourceMappingURL=main.b195e65d.chunk.js.map